name: "Changed files detection"
description: "Find the added and modified files due to a github event"
inputs:
  includeRemoved:
    description: "If set, removed files will be included in the output"
    required: false
    default: false
outputs:
  files:
    description: "Paths of all added or modified files"
    value: ${{ steps.changed-files.outputs.files }}
runs:
  using: "composite"
  steps:
    - name: "Get added and modified files"
      shell: bash
      id: changed-files
      run: |
        set -x

        ${{ github.action_path }}/find_changed_files.sh ${{ inputs.includeRemoved }}

